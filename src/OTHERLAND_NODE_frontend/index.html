<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Otherland Network</title>
    <!-- <link href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap" rel="stylesheet"> -->
    <link rel="stylesheet" href="/src/index.scss">
</head>

<body>

    <!-- Account Switcher (Top Right) -->
    <div id="account-switcher">
        <!-- Populated dynamically -->
    </div>

    <!-- Start Screen -->
    <div id="start-screen">
        <div id="welcome-message"><p>Welcome to Otherland Network</p></div>
        <button id="connect-ii-btn">Connect to Internet Identity</button>
        <button id="continue-guest-btn">Continue as Guest</button>
    </div>

    <!-- Main Menu -->
    <div id="main-menu">
        <div id="side-bar">
            <h1>Otherland</h1>
            <button id="otherland-btn">Otherland</button>
            <button id="treehouse-btn">TreeHouse</button>
            <button id="assets-btn">Assets</button>
            <button id="store-btn">Store</button>
            <button id="wallet-btn">Wallet</button>
            <button id="settings-btn">Settings</button>
        </div>
        <div id="tab-content">
            <div id="otherland-tab" class="tab">
                <h2>Nodes</h2>
                <h3>Public Nodes</h3>
                <ul>
                    <li>PN1</li>
                    <li>PN2</li>
                </ul>
                <h3>Private Nodes</h3>
                <ul>
                    <li>USER1</li>
                    <li>Company_2</li>
                </ul>
            </div>
            <div id="treehouse-tab" class="tab">
                <h2>TreeHouse</h2>

                <!-- Enter VR world -->
                <button id="enter-treehouse-btn">Enter TreeHouse</button>

                <!-- Clear World -->
                <button id="clear-khets-btn">Clear All Khets</button>

                <button>Invite Friends</button>
                <button>Edit Environment</button>
                <button>Node Settings</button>
            </div>
            <div id="assets-tab" class="tab">
                <h2>Assets</h2>
                <h3>List of Avatars</h3>

                <!-- List of all Khets in Node -->
                <h3>List of Objects in Node</h3>
                <div id="khet-list">
                    <table>
                        <colgroup></colgroup>
                        <tr>
                            <th><p>KhetID</p></th>
                            <th><p>KhetType</p></th>
                            <th><p>Position</p></th>
                            <th><p>Scale</p></th>
                            <th><p>Code</p></th>
                        </tr>
                        <div id="khet-table"></div>
                    </table>
                </div>

                <!-- Khet Editor -->
                <div id="khet-editor">
                    <h3>Upload Object</h3>
                    <input type="file" id="upload-khet" accept=".glb" multiple>
                    <div class="upload-group">
                        <select id="khet-type">
                            <option value="SceneObject">Scene Object</option>
                            <option value="InteractiveObject">Interactive Object</option>
                            <option value="MobileObject">Mobile Object</option>
                            <option value="Entity">Entity</option>
                            <option value="Avatar">Avatar</option>
                        </select>
                        <button id="upload-btn">Upload</button>
                    </div>
                    <div class="input-group">
                        <label>Position (x, y, z):</label>
                        <input type="number" id="pos-x" placeholder="X" step="0.1">
                        <input type="number" id="pos-y" placeholder="Y" step="0.1">
                        <input type="number" id="pos-z" placeholder="Z" step="0.1">
                    </div>
                    
                    <div class="input-group">
                        <label>Scale (x, y, z):</label>
                        <input type="number" id="scale-x" placeholder="X" step="0.1" value="1">
                        <input type="number" id="scale-y" placeholder="Y" step="0.1" value="1">
                        <input type="number" id="scale-z" placeholder="Z" step="0.1" value="1">
                    </div> 
                </div>
            </div>
            <div id="store-tab" class="tab">
                <h2>Store</h2>
                <div>Ad space</div>
                <div>Portals</div>
                <div>Khet Objects</div>
                <div>Avatars</div>
                <div>NFTs</div>
            </div>
            <div id="wallet-tab" class="tab">
                <h2>Wallet</h2>
                <div>Balance & Report</div>
                <div>Spending Manager</div>
                <div>Buy Cycles with ICP/BTC/ETC/SOL/DOGE/Credit card</div>
                <div>NFT storage</div>
            </div>
            <div id="settings-tab" class="tab">
                <h2>Settings</h2>
                <!-- Placeholder -->
            </div>
        </div>
    </div>

    <!-- Game Menu -->
    <div id="game-menu">
        <h1>Otherland Network</h1>

        <!-- Main Menu Buttons -->
        <div id="main-page" class="page active">
            <button id="home-btn">Home</button>
            <button id="avatar-btn">Avatar</button>
            <button id="settings-btn">Settings</button>
            <button id="close-btn">Resume</button>
        </div>

        <!-- Settings Page -->
        <div id="settings-page" class="page">
            <h2>Settings</h2>
            <label><input type="checkbox" id="toggle-chat" checked> Show Chat</label><br>
            <label><input type="checkbox" id="toggle-friends" checked> Show Friends List</label><br>
            <label><input type="checkbox" id="toggle-map" checked> Show Map</label><br>
            <button id="back-settings-btn">Back</button>
        </div>

        <!-- Avatar Page -->
        <div id="avatar-page" class="page">
            <h2>Select Avatar</h2>
            <div id="avatar-container"></div>
            <button data-avatar="1">Avatar 1</button>
            <button data-avatar="2">Avatar 2</button>
            <button data-avatar="3">Avatar 3</button>
            <button data-avatar="4">Avatar 4</button>
            <button data-avatar="5">Avatar 5</button>
            <button data-avatar="6">Avatar 6</button>
            <button data-avatar="7">Avatar 7</button>
            <button data-avatar="8">Avatar 8</button>
            <button data-avatar="9">Avatar 9</button>
            <button data-avatar="10">Avatar 10</button>
            <button id="back-avatar-btn">Back</button>
        </div>
    </div>

    <!-- UI Areas -->
    <div id="chat">
        <h3>Group Chat</h3>
        <div id="chat-messages"></div>
        <input type="text" id="chat-input" placeholder="Type a message...">
        <button id="send-chat-btn">Send</button>
    </div>
    <div id="friends-list">Friends List</div>
    <div id="own-info">Own Information</div>
    <div id="map">Map Area</div>
    <div id="interactionHint">No interaction detected</div>

    <!-- Game Area -->
    <canvas id="canvas"></canvas>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/PointerLockControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/cannon@0.6.2/build/cannon.min.js"></script>
    <script type="module" src="/src/khet.js"></script>
    <script type="module" src="/src/viewer.js"></script>
</body>
</html>